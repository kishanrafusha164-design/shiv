<meta name='viewport' content='width=device-width, initial-scale=1'/><!DOCTYPE html>
<html lang="gu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Auto Daily Stock Sheet</title>
<style>
  body {
    font-family: "Noto Sans Gujarati", sans-serif;
    background: #f4f4f4;
    margin: 0;
    padding: 20px;
    display: flex;
    justify-content: center;
  }
  .container {
    background: #fff;
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    padding: 20px;
    max-width: 600px;
    width: 100%;
  }
  h2 {
    text-align: center;
    margin-bottom: 10px;
  }
  table {
    width: 100%;
    border-collapse: collapse;
  }
  th, td {
    border: 1px solid #eee;
    padding: 10px;
    text-align: center;
  }
  th {
    background: #fff2cc;
  }
  input[type="number"], input[type="text"] {
    width: 100%;
    text-align: center;
    border: none;
    background: transparent;
    outline: none;
    font-size: 15px;
  }
  select, input[type="date"] {
    padding: 6px;
    font-size: 14px;
    border-radius: 5px;
    border: 1px solid #ccc;
  }
  .btns {
    margin-top: 15px;
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 10px;
  }
  button {
    padding: 8px 12px;
    border: none;
    border-radius: 6px;
    color: white;
    font-weight: bold;
    cursor: pointer;
  }
  .save { background: orange; }
  .copy { background: #007bff; }
  .whatsapp { background: #25d366; }
  .pdf { background: #28a745; }
  .footer {
    text-align: center;
    margin-top: 10px;
    color: gray;
  }
</style>
</head>
<body>

<div class="container">
  <h2>üìÖ Auto Daily Stock Sheet</h2>

  <label for="date">Select Date:</label>
  <input type="date" id="date">

  <table id="stockTable">
    <thead>
      <tr>
        <th>Stock</th>
        <th>Item Name</th>
        <th>Auto</th>
      </tr>
    </thead>
    <tbody id="tbody">
      <tr><td><input type="number" value="9"></td><td><input type="text" value="‡™≤‡´Ä‡™ü‡™∞"></td><td><input type="number" value="10"></td></tr>
      <tr><td><input type="number" value="20"></td><td><input type="text" value="‡™§‡™æ‡™ú‡™æ"></td><td><input type="number" value="10"></td></tr>
      <tr><td><input type="number" value="10"></td><td><input type="text" value="‡™õ‡™æ‡™∏"></td><td><input type="number" value="8"></td></tr>
      <tr><td><input type="number" value="20"></td><td><input type="text" value="‡™ï‡™¨‡´Å‡™≥‡™æ"></td><td><input type="number" value="50"></td></tr>
      <tr><td><input type="number" value="10"></td><td><input type="text" value="‡™¶‡™π‡´Ä"></td><td><input type="number" value="20"></td></tr>
      <tr><td><input type="number" value="2"></td><td><input type="text" value="‡™ñ‡™æ‡™ü‡´Ä ‡™õ‡™æ‡™∏"></td><td><input type="number" value="5"></td></tr>
      <tr><td><input type="number" value="0"></td><td><input type="text" value="‡™Æ‡™æ‡™ñ‡™£"></td><td><input type="number" value="0"></td></tr>
    </tbody>
  </table>

  <div class="btns">
    <button class="save" onclick="saveData()">üíæ Save</button>
    <button class="copy" onclick="copyAll()">üìã Copy All</button>
    <button class="whatsapp" onclick="shareWhatsApp()">üí¨ Share WhatsApp</button>
    <button class="pdf" onclick="window.print()">üñ®Ô∏è PDF / Print</button>
  </div>

  <div class="footer" id="footerText">Loaded data for - </div>
</div>

<script>
  const dateInput = document.getElementById('date');
  const tbody = document.getElementById('tbody');
  const footerText = document.getElementById('footerText');

  // Set today‚Äôs date as default
  const today = new Date().toISOString().slice(0,10);
  dateInput.value = today;
  footerText.textContent = "Loaded data for " + today;

  function getKey() {
    return 'stockData_' + dateInput.value;
  }

  function saveData() {
    const rows = tbody.querySelectorAll('tr');
    let data = [];
    rows.forEach(tr => {
      const inputs = tr.querySelectorAll('input');
      data.push({
        stock: inputs[0].value,
        name: inputs[1].value,
        auto: inputs[2].value
      });
    });
    localStorage.setItem(getKey(), JSON.stringify(data));
    alert("Saved successfully for " + dateInput.value);
  }

  function loadData() {
    const data = JSON.parse(localStorage.getItem(getKey()) || "null");
    if (!data) return;
    tbody.innerHTML = "";
    data.forEach(row => {
      tbody.innerHTML += `
        <tr>
          <td><input type="number" value="${row.stock}"></td>
          <td><input type="text" value="${row.name}"></td>
          <td><input type="number" value="${row.auto}"></td>
        </tr>`;
    });
    footerText.textContent = "Loaded data for " + dateInput.value;
  }

  dateInput.addEventListener('change', loadData);

  function copyAll() {
    const rows = tbody.querySelectorAll('tr');
    let text = "Auto Daily Stock Sheet (" + dateInput.value + ")\n\n";
    text += "Stock\tItem Name\tAuto\n";
    rows.forEach(tr => {
      const inputs = tr.querySelectorAll('input');
      text += `${inputs[0].value}\t${inputs[1].value}\t${inputs[2].value}\n`;
    });
    navigator.clipboard.writeText(text);
    alert("Copied to clipboard!");
  }

  function shareWhatsApp() {
    const rows = tbody.querySelectorAll('tr');
    let text = "Auto Daily Stock Sheet (" + dateInput.value + ")\n\n";
    text += "Stock | Item Name | Auto\n";
    rows.forEach(tr => {
      const inputs = tr.querySelectorAll('input');
      text += `${inputs[0].value} | ${inputs[1].value} | ${inputs[2].value}\n`;
    });
    const url = "https://wa.me/?text=" + encodeURIComponent(text);
    window.open(url, "_blank");
  }
</script>

</body>
</html>